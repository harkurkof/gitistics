<div ng-include="'pages/repositoryMenu.html'" />

<div class="container">
	<div class="row">

		<div class="col-sm-12 col-md-12 main">
			<h2 class="sub-header">Outliers</h2>
			<form class="form-horizontal" role="form">
				<div class="form-group">
					<label for="filterStart" class="col-sm-2 control-label">Start Date</label>
					<div class="col-sm-10">
						<input type="text" width="50px" ng-change="apply(filter)" class="form-control" id="filterStart" ng-model="filter.dateFrom" placeholder="date from">
					</div>
				</div>
				<div class="form-group">
					<label for="filterEnd" class="col-sm-2 control-label">End Date</label>
					<div class="col-sm-10">
						<input type="text" width="50px" ng-change="apply(filter)" class="form-control" id="filterEnd" ng-model="filter.dateTo" placeholder="date to">
					</div>
				</div>
				<div class="form-group">
					<label for="author" class="col-sm-2 control-label">Author</label>
					<div class="col-sm-10">
						<input type="text" width="50px" ng-change="apply(filter)" class="form-control" id="authorName" ng-model="filter.authorName" placeholder="author">
					</div>
				</div>
			</form>
			<table class="table table-hover table-striped table-condensed" infinite-scroll="page(filter)">
				<tr>
					<td><b>Flag as Invalid</b></td>
					<td><b>Date</b></td>
					<td><b>Author</b></td>
					<td><b>Commit Id</b></td>
					<td><b>Lines Added</b></td>
					<td><b>Lines Removed</b></td>
				</tr>
				<tr ng-repeat="outlier in outliers">
					<td>
						<button type="button" ng-click="go(outlier)" class="btn {{ outlier.valid ? 'btn-xs' : 'btn-danger  btn-xs' }}">
							<span class="glyphicon glyphicon-flag"></span>
						</button>
					</td>
					<td><p>{{outlier.commitDate}}</p></td>
					<td><p>{{outlier.authorName}}</p></td>
					<td><p>{{outlier.commitId}}</p></td>
					<td><p>{{outlier.linesAdded}}</p></td>
					<td><p>{{outlier.linesRemoved}}</p></td>
				</tr>
			</table>
		</div>
	</div>
</div>